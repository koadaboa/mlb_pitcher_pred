2025-03-27 12:02:52,732 - __main__ - INFO - Loading pitcher data...
2025-03-27 12:02:52,732 - src.data.db - INFO - Retrieving pitcher data from database...
2025-03-27 12:02:53,237 - src.data.db - WARNING - No pitch mix data found in the database
2025-03-27 12:02:53,237 - src.data.db - INFO - Retrieved 104453 rows of pitcher data with 27 columns
2025-03-27 12:02:53,293 - src.data.db - INFO - Null value counts in key columns:
team          104453
era           104453
k_per_9       104453
bb_per_9      104453
k_bb_ratio    104453
whip          104453
babip         104453
lob_pct       104453
fip           104453
xfip          104453
war           104453
dtype: int64
2025-03-27 12:02:53,294 - __main__ - INFO - Selecting features for strikeout model...
2025-03-27 12:02:53,294 - __main__ - INFO - Selected 5 features for strikeout model: ['zone_rate', 'hits', 'walks', 'release_speed_max', 'swinging_strike_pct']
2025-03-27 12:02:53,294 - __main__ - INFO - Training strikeout prediction model with years (2019, 2020, 2021, 2022) for training and (2023, 2024) for testing...
2025-03-27 12:02:53,294 - src.models.train - INFO - Training strikeout prediction model with 5 features
2025-03-27 12:02:53,294 - src.models.train - INFO - Training years: (2019, 2020, 2021, 2022), Testing years: (2023, 2024)
2025-03-27 12:02:53,297 - src.models.train - INFO - Using 104453 rows after dropping NA values
2025-03-27 12:02:53,299 - src.models.train - INFO - Training set: 63310 rows, Test set: 41143 rows
2025-03-27 12:02:56,191 - src.models.train - INFO - Model metrics: RMSE=1.852, MAE=1.277, R²=0.285
2025-03-27 12:02:56,191 - src.models.train - INFO - Top features by importance: hits, release_speed_max, walks
2025-03-27 12:02:56,192 - __main__ - INFO - Saving strikeout model...
2025-03-27 12:02:56,243 - src.models.train - INFO - Model saved to models\strikeout_model.pkl
2025-03-27 12:02:56,243 - __main__ - INFO - Selecting features for ERA model...
2025-03-27 12:02:56,243 - __main__ - INFO - Selected 5 features for ERA model: ['babip', 'whip', 'lob_pct', 'bb_per_9', 'war']
2025-03-27 12:02:56,243 - __main__ - INFO - Training ERA prediction model...
2025-03-27 12:02:56,243 - src.models.train - INFO - Training ERA prediction model with 5 features
2025-03-27 12:02:56,243 - src.models.train - INFO - Training years: (2019, 2020, 2021, 2022), Testing years: (2023, 2024)
2025-03-27 12:02:56,247 - src.models.train - INFO - Using 0 rows after dropping NA values
2025-03-27 12:02:56,248 - src.models.train - INFO - Training set: 0 rows, Test set: 0 rows
2025-03-27 12:20:47,689 - __main__ - INFO - Loading pitcher data...
2025-03-27 12:20:47,689 - src.data.db - INFO - Retrieving pitcher data from database...
2025-03-27 12:20:48,194 - src.data.db - WARNING - No pitch mix data found in the database
2025-03-27 12:20:48,195 - src.data.db - INFO - Retrieved 104453 rows of pitcher data with 27 columns
2025-03-27 12:20:48,254 - src.data.db - INFO - Null value counts in key columns:
team          104453
era           104453
k_per_9       104453
bb_per_9      104453
k_bb_ratio    104453
whip          104453
babip         104453
lob_pct       104453
fip           104453
xfip          104453
war           104453
dtype: int64
2025-03-27 12:20:48,254 - __main__ - INFO - Selecting features for strikeout model...
2025-03-27 12:20:48,254 - __main__ - INFO - Selected 5 features for strikeout model: ['zone_rate', 'hits', 'walks', 'release_speed_max', 'swinging_strike_pct']
2025-03-27 12:20:48,254 - __main__ - INFO - Training strikeout prediction model with years (2019, 2020, 2021, 2022) for training and (2023, 2024) for testing...
2025-03-27 12:20:48,254 - src.models.train - INFO - Training strikeout prediction model with 5 features
2025-03-27 12:20:48,254 - src.models.train - INFO - Training years: (2019, 2020, 2021, 2022), Testing years: (2023, 2024)
2025-03-27 12:20:48,257 - src.models.train - INFO - Using 104453 rows after dropping NA values
2025-03-27 12:20:48,259 - src.models.train - INFO - Training set: 63310 rows, Test set: 41143 rows
2025-03-27 12:20:51,085 - src.models.train - INFO - Model metrics: RMSE=1.852, MAE=1.277, R²=0.285
2025-03-27 12:20:51,085 - src.models.train - INFO - Top features by importance: hits, release_speed_max, walks
2025-03-27 12:20:51,086 - __main__ - INFO - Saving strikeout model...
2025-03-27 12:20:51,138 - src.models.train - INFO - Model saved to models\strikeout_model.pkl
2025-03-27 12:20:51,138 - __main__ - INFO - Selecting features for earned runs model...
2025-03-27 12:20:51,138 - __main__ - INFO - Selected 9 features for earned runs model: ['hits', 'walks', 'home_runs', 'strikeouts', 'release_speed_mean', 'release_spin_rate_mean', 'zone_rate', 'swinging_strike_pct', 'called_strike_pct']
2025-03-27 12:20:51,138 - __main__ - INFO - Training earned runs prediction model...
2025-03-27 12:20:51,139 - src.models.train - INFO - Training earned runs prediction model with 9 features
2025-03-27 12:20:51,139 - src.models.train - INFO - Training years: (2019, 2020, 2021, 2022), Testing years: (2023, 2024)
2025-03-27 12:20:51,139 - src.models.train - INFO - Creating proxy earned runs values from available features
2025-03-27 12:20:51,147 - src.models.train - INFO - Using 104453 rows after dropping NA values
2025-03-27 12:20:51,151 - src.models.train - INFO - Training set: 63310 rows, Test set: 41143 rows
2025-03-27 12:20:54,959 - src.models.train - INFO - Model metrics: RMSE=0.014, MAE=0.000, R²=1.000
2025-03-27 12:20:54,959 - src.models.train - INFO - Rounded metrics: RMSE=0.016, MAE=0.000
2025-03-27 12:20:54,959 - src.models.train - INFO - Top features by importance: home_runs, hits, walks
2025-03-27 12:20:54,960 - __main__ - INFO - Saving earned runs model...
2025-03-27 12:20:54,962 - src.models.train - INFO - Model saved to models\earned_runs_model.pkl
2025-03-27 12:20:54,962 - __main__ - INFO - Model training complete!
2025-03-27 16:56:00,677 - __main__ - INFO - Loading pitcher data...
2025-03-27 16:56:00,678 - src.data.db - INFO - Retrieving pitcher data from database...
2025-03-27 16:56:01,323 - src.data.db - WARNING - No pitch mix data found in the database
2025-03-27 16:56:01,323 - src.data.db - INFO - Retrieved 104453 rows of pitcher data with 16 columns
2025-03-27 16:56:01,323 - __main__ - INFO - Selecting features for strikeout model...
2025-03-27 16:56:01,323 - src.features.selection - INFO - Selected 0 features for strikeout model
2025-03-27 16:56:01,323 - __main__ - INFO - Selected features for strikeout model: []
2025-03-27 16:56:01,324 - __main__ - INFO - Training strikeout prediction model with years (2019, 2021, 2022) for training and (2023, 2024) for testing...
2025-03-27 16:56:01,324 - src.models.train - INFO - Training strikeout prediction model with 0 features
2025-03-27 16:56:01,324 - src.models.train - INFO - Training years: (2019, 2021, 2022), Testing years: (2023, 2024)
2025-03-27 16:56:01,327 - src.models.train - INFO - Using 104453 rows after dropping NA values
2025-03-27 16:56:01,332 - src.models.train - INFO - Training set: 63310 rows, Test set: 41143 rows
2025-03-27 19:08:33,433 - __main__ - INFO - Loading pitcher data...
2025-03-27 19:08:33,433 - src.data.db - INFO - Retrieving pitcher data from database...
2025-03-27 19:08:34,964 - src.data.db - INFO - Retrieved 104453 rows of pitcher data with 24 columns
2025-03-27 19:08:34,971 - __main__ - INFO - Selecting features for strikeout model...
2025-03-27 19:08:34,971 - src.features.selection - INFO - Available columns: ['game_db_id', 'pitcher_id', 'player_name', 'game_id', 'game_date', 'season', 'strikeouts', 'hits', 'walks', 'home_runs', 'release_speed_mean', 'release_speed_max', 'release_spin_rate_mean', 'swinging_strike_pct', 'called_strike_pct', 'zone_rate', 'last_3_games_strikeouts_avg', 'last_5_games_strikeouts_avg', 'last_3_games_velo_avg', 'last_5_games_velo_avg', 'last_3_games_swinging_strike_pct_avg', 'last_5_games_swinging_strike_pct_avg', 'days_rest', 'team_changed']
2025-03-27 19:08:34,977 - src.features.selection - INFO - Selected 7 features for strikeout model: ['last_3_games_strikeouts_avg', 'last_5_games_strikeouts_avg', 'last_3_games_velo_avg', 'last_5_games_velo_avg', 'last_3_games_swinging_strike_pct_avg', 'last_5_games_swinging_strike_pct_avg', 'days_rest']
2025-03-27 19:08:34,978 - __main__ - INFO - Selected features for strikeout model: ['last_3_games_strikeouts_avg', 'last_5_games_strikeouts_avg', 'last_3_games_velo_avg', 'last_5_games_velo_avg', 'last_3_games_swinging_strike_pct_avg', 'last_5_games_swinging_strike_pct_avg', 'days_rest']
2025-03-27 19:08:35,016 - __main__ - INFO - Training strikeout prediction model with years (2019, 2021, 2022) for training and (2023, 2024) for testing...
2025-03-27 19:08:35,017 - src.models.train - INFO - Training strikeout prediction model with 7 features
2025-03-27 19:08:35,017 - src.models.train - INFO - Training years: (2019, 2021, 2022), Testing years: (2023, 2024)
2025-03-27 19:08:35,029 - src.models.train - INFO - Using 104453 rows after dropping NA values
2025-03-27 19:08:35,038 - src.models.train - INFO - Training set: 63310 rows, Test set: 41143 rows
2025-03-27 19:09:07,118 - src.models.train - INFO - Model metrics: RMSE=1.523, MAE=1.106, R²=0.516
2025-03-27 19:09:07,118 - src.models.train - INFO - Top features by importance: last_5_games_strikeouts_avg, last_5_games_swinging_strike_pct_avg, last_3_games_swinging_strike_pct_avg
2025-03-27 19:09:07,120 - __main__ - INFO - Saving strikeout model...
2025-03-27 19:09:07,275 - src.models.train - INFO - Model saved to models\strikeout_model.pkl
2025-03-27 19:09:07,275 - __main__ - INFO - Model training complete!
2025-03-28 10:33:15,656 - __main__ - INFO - Loading pitcher data...
2025-03-28 10:33:15,656 - src.data.db - INFO - Retrieving pitcher data from database...
2025-03-28 10:33:16,944 - src.data.db - INFO - Retrieved 104453 rows of pitcher data with 24 columns
2025-03-28 10:33:16,944 - __main__ - INFO - Selecting features for strikeout model...
2025-03-28 10:33:16,944 - src.features.selection - INFO - Available columns: ['game_db_id', 'pitcher_id', 'player_name', 'game_id', 'game_date', 'season', 'strikeouts', 'hits', 'walks', 'home_runs', 'release_speed_mean', 'release_speed_max', 'release_spin_rate_mean', 'swinging_strike_pct', 'called_strike_pct', 'zone_rate', 'last_3_games_strikeouts_avg', 'last_5_games_strikeouts_avg', 'last_3_games_velo_avg', 'last_5_games_velo_avg', 'last_3_games_swinging_strike_pct_avg', 'last_5_games_swinging_strike_pct_avg', 'days_rest', 'team_changed']
2025-03-28 10:33:16,944 - src.features.selection - INFO - Selected 7 features for strikeout model: ['last_3_games_strikeouts_avg', 'last_5_games_strikeouts_avg', 'last_3_games_velo_avg', 'last_5_games_velo_avg', 'last_3_games_swinging_strike_pct_avg', 'last_5_games_swinging_strike_pct_avg', 'days_rest']
2025-03-28 10:33:16,944 - __main__ - INFO - Selected features for strikeout model: ['last_3_games_strikeouts_avg', 'last_5_games_strikeouts_avg', 'last_3_games_velo_avg', 'last_5_games_velo_avg', 'last_3_games_swinging_strike_pct_avg', 'last_5_games_swinging_strike_pct_avg', 'days_rest']
2025-03-28 10:33:16,944 - __main__ - INFO - Training strikeout prediction model with years (2019, 2021, 2022) for training and (2023, 2024) for testing...
2025-03-28 10:33:16,944 - src.models.train - INFO - Training strikeout prediction model with 7 features
2025-03-28 10:33:16,945 - src.models.train - INFO - Training years: (2019, 2021, 2022), Testing years: (2023, 2024)
2025-03-28 10:33:16,948 - src.models.train - INFO - Using 104453 rows after dropping NA values
2025-03-28 10:33:16,951 - src.models.train - INFO - Training set: 63310 rows, Test set: 41143 rows
2025-03-28 10:33:48,767 - src.models.train - INFO - Model metrics: RMSE=1.523, MAE=1.106, R²=0.516
2025-03-28 10:33:48,767 - src.models.train - INFO - Top features by importance: last_5_games_strikeouts_avg, last_5_games_swinging_strike_pct_avg, last_3_games_swinging_strike_pct_avg
2025-03-28 10:33:48,768 - __main__ - INFO - Saving strikeout model...
2025-03-28 10:33:48,909 - src.models.train - INFO - Model saved to models\strikeout_model.pkl
2025-03-28 10:33:48,910 - __main__ - INFO - Model training complete!
2025-03-28 10:52:09,128 - __main__ - INFO - Loading pitcher data...
2025-03-28 10:52:09,128 - src.data.db - INFO - Retrieving pitcher data from database...
2025-03-28 10:52:10,468 - src.data.db - INFO - Retrieved 104453 rows of pitcher data with 24 columns
2025-03-28 10:52:10,468 - __main__ - INFO - Selecting features for strikeout model...
2025-03-28 10:52:10,469 - src.features.selection - INFO - Available columns: ['game_db_id', 'pitcher_id', 'player_name', 'game_id', 'game_date', 'season', 'strikeouts', 'hits', 'walks', 'home_runs', 'release_speed_mean', 'release_speed_max', 'release_spin_rate_mean', 'swinging_strike_pct', 'called_strike_pct', 'zone_rate', 'last_3_games_strikeouts_avg', 'last_5_games_strikeouts_avg', 'last_3_games_velo_avg', 'last_5_games_velo_avg', 'last_3_games_swinging_strike_pct_avg', 'last_5_games_swinging_strike_pct_avg', 'days_rest', 'team_changed']
2025-03-28 10:52:10,469 - src.features.selection - INFO - Selected 7 features for strikeout model: ['last_3_games_strikeouts_avg', 'last_5_games_strikeouts_avg', 'last_3_games_velo_avg', 'last_5_games_velo_avg', 'last_3_games_swinging_strike_pct_avg', 'last_5_games_swinging_strike_pct_avg', 'days_rest']
2025-03-28 10:52:10,469 - __main__ - INFO - Selected features for strikeout model: ['last_3_games_strikeouts_avg', 'last_5_games_strikeouts_avg', 'last_3_games_velo_avg', 'last_5_games_velo_avg', 'last_3_games_swinging_strike_pct_avg', 'last_5_games_swinging_strike_pct_avg', 'days_rest']
2025-03-28 10:52:10,469 - __main__ - INFO - Training strikeout prediction model with years (2019, 2021, 2022) for training and (2023, 2024) for testing...
2025-03-28 10:52:10,469 - src.models.train - INFO - Training strikeout prediction model with 7 features
2025-03-28 10:52:10,469 - src.models.train - INFO - Training years: (2019, 2021, 2022), Testing years: (2023, 2024)
2025-03-28 10:52:10,473 - src.models.train - INFO - Using 104453 rows after dropping NA values
2025-03-28 10:52:10,477 - src.models.train - INFO - Training set: 63310 rows, Test set: 41143 rows
2025-03-28 10:52:43,333 - src.models.train - INFO - Model metrics: RMSE=1.523, MAE=1.106, R²=0.516
2025-03-28 10:52:43,333 - src.models.train - INFO - Top features by importance: last_5_games_strikeouts_avg, last_5_games_swinging_strike_pct_avg, last_3_games_swinging_strike_pct_avg
2025-03-28 10:52:43,334 - __main__ - INFO - Saving strikeout model...
2025-03-28 10:52:43,500 - src.models.train - INFO - Model saved to models\strikeout_model.pkl
2025-03-28 10:52:43,500 - __main__ - INFO - Model training complete!
2025-03-28 10:59:59,628 - __main__ - INFO - Loading pitcher data...
2025-03-28 10:59:59,629 - src.data.db - INFO - Retrieving pitcher data from database...
2025-03-28 11:01:03,174 - __main__ - INFO - Loading pitcher data...
2025-03-28 11:01:03,175 - src.data.db - INFO - Retrieving pitcher data from database...
2025-03-28 11:01:06,363 - src.data.db - INFO - Retrieved 104453 rows of pitcher data with 53 columns
2025-03-28 11:01:06,363 - src.data.db - INFO - Retrieved 20 enhanced feature columns: last_3_games_strikeouts_std, last_5_games_strikeouts_std, last_3_games_velo_std, last_5_games_velo_std, last_3_games_swinging_strike_pct_std...
2025-03-28 11:01:06,363 - __main__ - INFO - Selecting features for strikeout model...
2025-03-28 11:01:06,363 - src.features.selection - INFO - Available columns: ['game_db_id', 'pitcher_id', 'player_name', 'statcast_id', 'game_id', 'game_date', 'season', 'strikeouts', 'hits', 'walks', 'home_runs', 'release_speed_mean', 'release_speed_max', 'release_spin_rate_mean', 'swinging_strike_pct', 'called_strike_pct', 'zone_rate', 'last_3_games_strikeouts_avg', 'last_5_games_strikeouts_avg', 'last_3_games_velo_avg', 'last_5_games_velo_avg', 'last_3_games_swinging_strike_pct_avg', 'last_5_games_swinging_strike_pct_avg', 'days_rest', 'team_changed', 'opponent_team', 'opponent_batting_avg', 'opponent_strikeout_rate', 'opponent_ops', 'last_3_games_strikeouts_std', 'last_5_games_strikeouts_std', 'last_3_games_velo_std', 'last_5_games_velo_std', 'last_3_games_swinging_strike_pct_std', 'last_5_games_swinging_strike_pct_std', 'last_3_games_called_strike_pct_avg', 'last_5_games_called_strike_pct_avg', 'last_3_games_zone_rate_avg', 'last_5_games_zone_rate_avg', 'trend_3_strikeouts', 'trend_5_strikeouts', 'trend_3_release_speed_mean', 'trend_5_release_speed_mean', 'trend_3_swinging_strike_pct', 'trend_5_swinging_strike_pct', 'momentum_3_strikeouts', 'momentum_5_strikeouts', 'momentum_3_release_speed_mean', 'momentum_5_release_speed_mean', 'momentum_3_swinging_strike_pct', 'momentum_5_swinging_strike_pct', 'pitch_entropy', 'prev_game_pitch_entropy']
2025-03-28 11:01:06,363 - src.features.selection - INFO - Selected 31 features for strikeout model: ['last_3_games_strikeouts_avg', 'last_5_games_strikeouts_avg', 'last_3_games_velo_avg', 'last_5_games_velo_avg', 'last_3_games_swinging_strike_pct_avg', 'last_5_games_swinging_strike_pct_avg', 'days_rest', 'last_3_games_strikeouts_std', 'last_5_games_strikeouts_std', 'last_3_games_velo_std', 'last_5_games_velo_std', 'last_3_games_swinging_strike_pct_std', 'last_5_games_swinging_strike_pct_std', 'trend_3_strikeouts', 'trend_5_strikeouts', 'trend_3_release_speed_mean', 'trend_5_release_speed_mean', 'trend_3_swinging_strike_pct', 'trend_5_swinging_strike_pct', 'momentum_3_strikeouts', 'momentum_5_strikeouts', 'momentum_3_release_speed_mean', 'momentum_5_release_speed_mean', 'momentum_3_swinging_strike_pct', 'momentum_5_swinging_strike_pct', 'pitch_entropy', 'prev_game_pitch_entropy', 'last_3_games_called_strike_pct_avg', 'last_5_games_called_strike_pct_avg', 'last_3_games_zone_rate_avg', 'last_5_games_zone_rate_avg']
2025-03-28 11:01:06,363 - __main__ - INFO - Selected features for strikeout model: ['last_3_games_strikeouts_avg', 'last_5_games_strikeouts_avg', 'last_3_games_velo_avg', 'last_5_games_velo_avg', 'last_3_games_swinging_strike_pct_avg', 'last_5_games_swinging_strike_pct_avg', 'days_rest', 'last_3_games_strikeouts_std', 'last_5_games_strikeouts_std', 'last_3_games_velo_std', 'last_5_games_velo_std', 'last_3_games_swinging_strike_pct_std', 'last_5_games_swinging_strike_pct_std', 'trend_3_strikeouts', 'trend_5_strikeouts', 'trend_3_release_speed_mean', 'trend_5_release_speed_mean', 'trend_3_swinging_strike_pct', 'trend_5_swinging_strike_pct', 'momentum_3_strikeouts', 'momentum_5_strikeouts', 'momentum_3_release_speed_mean', 'momentum_5_release_speed_mean', 'momentum_3_swinging_strike_pct', 'momentum_5_swinging_strike_pct', 'pitch_entropy', 'prev_game_pitch_entropy', 'last_3_games_called_strike_pct_avg', 'last_5_games_called_strike_pct_avg', 'last_3_games_zone_rate_avg', 'last_5_games_zone_rate_avg']
2025-03-28 11:01:06,363 - __main__ - INFO - Training strikeout prediction model with years (2019, 2021, 2022) for training and (2023, 2024) for testing...
2025-03-28 11:01:06,363 - src.models.train - INFO - Training strikeout prediction model with 31 features
2025-03-28 11:01:06,363 - src.models.train - INFO - Training years: (2019, 2021, 2022), Testing years: (2023, 2024)
2025-03-28 11:01:06,375 - src.models.train - INFO - Using 104453 rows after dropping NA values
2025-03-28 11:01:06,385 - src.models.train - INFO - Training set: 63310 rows, Test set: 41143 rows
2025-03-28 11:03:03,076 - src.models.train - INFO - Model metrics: RMSE=1.489, MAE=1.078, R²=0.538
2025-03-28 11:03:03,076 - src.models.train - INFO - Top features by importance: momentum_5_strikeouts, last_5_games_strikeouts_avg, days_rest
2025-03-28 11:03:03,080 - __main__ - INFO - Saving strikeout model...
2025-03-28 11:03:03,214 - src.models.train - INFO - Model saved to models\strikeout_model.pkl
2025-03-28 11:03:03,215 - __main__ - INFO - Model training complete!
